# Ідэі

Аляксей Станкевіч, вечар 28 III 2015

* Ёсць ядро працэсара, з невялікай але хуткай памяццю (да 1000 машынных слоў, не больш)

* Ёсць агульная звычайная памяць

* Рэгістры агульнага прызначэння не патрэбны, патрэбны толькі індэксныя і службовыя рэгістры.

Трэба прадумаць:

1. Арганізацыю унутранай і знешняй памяці.

2. Абарону для шматзадачнасці

3. Узаемадзеянне з перыфірыяй

4. Набор каманд.

_________________

Андрей Позняк, 17:52 03 IV 2015

* Процессор будет "регистрировать" активную периферию, выделяя ей область из быстрой памяти, через которую она сможет общаться с   процессором.

* Быстрая и общая память в едином адресном пространстве (пример: адреса быстрой - 0x0 .. 0xFFFF обычной - 0x10000 ..)

* Общие данные при многозадачности лежат в быстрой памяти, а в общей памяти для каждого процесса выделяется своя память, без общего доступа к ней по умолчанию, но с возможностью снять это ограничение.

* Команды предлагаю позаимствовать из Стекплетрона, только команды, где используется регистр Аккумулятор (А) немного изменить: создать новый регистр адреса и при вызове SUM(addr) сумма будет вычисляться между значениями в ячейках с индексами addr и значением регистра адреса, а резальтат запишется в ячайку с индексом регистра адреса.
_______________

Аляксей Станкевіч, раніца 05 IV 2015 

Трэба прадумаць рэалізацыю косвеннай і прамой адрасацыі.

* Як варыянт: усконасць ці непасрэднасць вызначаюцца бітам у машынным слове, асобны біт за крыніцу і асобны біт за прызначэнне. Напрыклад, хай `mov` мае opcode `0x01` тады:

1. `mov R0x00 M0x1073C` будзе выглядаць як `0b000 00001 0x0000 0000 0x0001 073C`
2. `mov [R0x00] M0x1073C` будзе выглядаць як `0b010 00001 0x0000 0000 0x0001 073C`
3. `mov R0x00 [R0xFE]` будзе выглядаць як `0b001 00001 0x0000 0000 0x0000 00FE`

_______________


Аляксей Станкевіч, вечар 06 IV 2015

Для варыянта 2 з галасавання прыблізны варыянт арганізацыі машынных слоў:

__NOP__
0000_0000__0000_0000__0000_0000__0000_0000


__NOT__
0000_0000__0000_0000__0000_0000__0001_0000

AND
0000_0000__0000_0000__0000_0000__0001_0001

OR
0000_0000__0000_0000__0000_0000__0001_0010

XOR
0000_0000__0000_0000__0000_0000__0001_0011

SHL
0000_0000__0000_0000__0000_0000__0001_0100

SHR
0000_0000__0000_0000__0000_0000__0001_0101

SAL
0000_0000__0000_0000__0000_0000__0001_0110

SAR
0000_0000__0000_0000__0000_0000__0001_0111

SCL
0000_0000__0000_0000__0000_0000__0001_1000

SCR
0000_0000__0000_0000__0000_0000__0001_1001


__INC__
0000_0000__0000_0000__0000_0000__0010_0000

DEC
0000_0000__0000_0000__0000_0000__0010_0001

ADD
0000_0000__0000_0000__0000_0000__0010_0100

SUB
0000_0000__0000_0000__0000_0000__0010_0101

UMUL
0000_0000__0000_0000__0000_0000__0010_1000

UDIV
0000_0000__0000_0000__0000_0000__0010_1001

MUL
0000_0000__0000_0000__0000_0000__0010_1100

DIV
0000_0000__0000_0000__0000_0000__0010_1101


__CMP__
0000_0000__0000_0000__0000_0000__0100_0000

JMP
0000_0000__0000_0000__0000_0000__0100_0001

JE
0000_0000__0000_0000__0000_0000__0100_0010

JNE
0000_0000__0000_0000__0000_0000__0100_0011

JGR
0000_0000__0000_0000__0000_0000__0100_0100

JLS
0000_0000__0000_0000__0000_0000__0100_0101

JHG
0000_0000__0000_0000__0000_0000__0100_0110

JLW
0000_0000__0000_0000__0000_0000__0100_0111


__SYSCALL__
0000_0000__0000_0000__0000_0000__1000_0001

INT
0000_0000__0000_0000__0000_0000__1000_0010

SLI
0000_0000__0000_0000__0000_0000__1000_1000

CLI
0000_0000__0000_0000__0000_0000__1000_1100

HLT
0000_0000__0000_0000__0000_0000__1000_1111




флагі __колькасці__ парметраў:

0 параметраў
0000_0000__0000_0000__0000_0000__0000_0000

1 параметр
0000_0000__0000_0001__0000_0000__0000_0000

2 параметры
0000_0000__0000_0011__0000_0000__0000_0000

3 параметры
0000_0000__0000_0111__0000_0000__0000_0000

4 параметры
0000_0000__0000_1111__0000_0000__0000_0000

флагі __ускоснасці__:

першы параметр
0000_0000__0000_0000__0000_0001__0000_0000

другі параметр
0000_0000__0000_0000__0000_0010__0000_0000

трэці параметр
0000_0000__0000_0000__0000_0100__0000_0000

чацвёрты параметр
0000_0000__0000_0000__0000_1000__0000_0000

флагі __непасрэднасці__:

першы параметр
0000_0000__0000_0000__0001_0000__0000_0000

другі параметр
0000_0000__0000_0000__0010_0000__0000_0000

трэці параметр
0000_0000__0000_0000__0100_0000__0000_0000

чацвёрты параметр
0000_0000__0000_0000__1000_0000__0000_0000

_______________
