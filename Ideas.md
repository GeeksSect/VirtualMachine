# Ідэі

Аляксей Станкевіч, вечар 28 III 2015

* Ёсць ядро працэсара, з невялікай але хуткай памяццю (да 1000 машынных слоў, не больш)

* Ёсць агульная звычайная памяць

* Рэгістры агульнага прызначэння не патрэбны, патрэбны толькі індэксныя і службовыя рэгістры.

Трэба прадумаць:

1. Арганізацыю унутранай і знешняй памяці.

2. Абарону для шматзадачнасці

3. Узаемадзеянне з перыфірыяй

4. Набор каманд.

_________________

Андрей Позняк, 17:52 03 IV 2015

* Процессор будет "регистрировать" активную периферию, выделяя ей область из быстрой памяти, через которую она сможет общаться с   процессором.

* Быстрая и общая память в едином адресном пространстве (пример: адреса быстрой - 0x0 .. 0xFFFF обычной - 0x10000 ..)

* Общие данные при многозадачности лежат в быстрой памяти, а в общей памяти для каждого процесса выделяется своя память, без общего доступа к ней по умолчанию, но с возможностью снять это ограничение.

* Команды предлагаю позаимствовать из Стекплетрона, только команды, где используется регистр Аккумулятор (А) немного изменить: создать новый регистр адреса и при вызове SUM(addr) сумма будет вычисляться между значениями в ячейках с индексами addr и значением регистра адреса, а резальтат запишется в ячайку с индексом регистра адреса.
_______________

Аляксей Станкевіч, раніца 05 IV 2015 

Трэба прадумаць рэалізацыю косвеннай і прамой адрасацыі.

* Як варыянт: усконасць ці непасрэднасць вызначаюцца бітам у машынным слове, асобны біт за крыніцу і асобны біт за прызначэнне. Напрыклад, хай `mov` мае opcode `0x01` тады:

1. `mov R0x00 M0x1073C` будзе выглядаць як `0b000 00001 0x0000 0000 0x0001 073C`
2. `mov [R0x00] M0x1073C` будзе выглядаць як `0b010 00001 0x0000 0000 0x0001 073C`
3. `mov R0x00 [R0xFE]` будзе выглядаць як `0b001 00001 0x0000 0000 0x0000 00FE`

_______________


Аляксей Станкевіч, вечар 06 IV 2015

Для варыянта 2 з галасавання прыблізны варыянт арганізацыі машынных слоў:

|mnemonic    |binary                                    |hex        |
|-----------:|:-----------------------------------------|:----------|
|__NOP__     |0000_0000__0000_0000__0000_0000__0000_0000|0x0000_0000|
|            |                                          |           |
|__NOT__     |0000_0000__0000_0000__0000_0000__0001_0000|0x0000_0010|
|AND         |0000_0000__0000_0000__0000_0000__0001_0001|0x0000_0011|
|OR          |0000_0000__0000_0000__0000_0000__0001_0010|0x0000_0012|
|XOR         |0000_0000__0000_0000__0000_0000__0001_0011|0x0000_0013|
|SHL         |0000_0000__0000_0000__0000_0000__0001_0100|0x0000_0014|
|SHR         |0000_0000__0000_0000__0000_0000__0001_0101|0x0000_0015|
|SAL         |0000_0000__0000_0000__0000_0000__0001_0110|0x0000_0016|
|SAR         |0000_0000__0000_0000__0000_0000__0001_0111|0x0000_0017|
|SCL         |0000_0000__0000_0000__0000_0000__0001_1000|0x0000_0018|
|SCR         |0000_0000__0000_0000__0000_0000__0001_1001|0x0000_0019|
|            |                                          |           |
|__INC__     |0000_0000__0000_0000__0000_0000__0010_0000|0x0000_0020|
|DEC         |0000_0000__0000_0000__0000_0000__0010_0001|0x0000_0021|
|ADD         |0000_0000__0000_0000__0000_0000__0010_0100|0x0000_0024|
|SUB         |0000_0000__0000_0000__0000_0000__0010_0101|0x0000_0025|
|UMUL        |0000_0000__0000_0000__0000_0000__0010_1000|0x0000_0028|
|UDIV        |0000_0000__0000_0000__0000_0000__0010_1001|0x0000_0029|
|MUL         |0000_0000__0000_0000__0000_0000__0010_1100|0x0000_002C|
|DIV         |0000_0000__0000_0000__0000_0000__0010_1101|0x0000_002D|
|            |                                          |           |
|__CMP__     |0000_0000__0000_0000__0000_0000__0100_0000|0x0000_0040|
|JMP         |0000_0000__0000_0000__0000_0000__0100_0001|0x0000_0041|
|JE          |0000_0000__0000_0000__0000_0000__0100_0010|0x0000_0042|
|JNE         |0000_0000__0000_0000__0000_0000__0100_0011|0x0000_0043|
|JGR         |0000_0000__0000_0000__0000_0000__0100_0100|0x0000_0044|
|JLS         |0000_0000__0000_0000__0000_0000__0100_0101|0x0000_0045|
|JHG         |0000_0000__0000_0000__0000_0000__0100_0110|0x0000_0046|
|JLW         |0000_0000__0000_0000__0000_0000__0100_0111|0x0000_0047|
|            |                                          |           |
|__SYSCALL__ |0000_0000__0000_0000__0000_0000__1000_0001|0x0000_0081|
|INT         |0000_0000__0000_0000__0000_0000__1000_0010|0x0000_0082|
|SLI         |0000_0000__0000_0000__0000_0000__1000_1000|0x0000_0088|
|CLI         |0000_0000__0000_0000__0000_0000__1000_1100|0x0000_008C|
|HLT         |0000_0000__0000_0000__0000_0000__1000_1111|0x0000_008F|

флагі __колькасці__ парметраў:

|колькасць|binary                                    |hex        |
|:--------|:-----------------------------------------|:----------|
|0        |0000_0000__0000_0000__0000_0000__0000_0000|0x0000_0000|
|1        |0000_0000__0000_0001__0000_0000__0000_0000|0x0001_0000|
|2        |0000_0000__0000_0011__0000_0000__0000_0000|0x0003_0000|
|3        |0000_0000__0000_0111__0000_0000__0000_0000|0x0007_0000|
|4        |0000_0000__0000_1111__0000_0000__0000_0000|0x000F_0000|

флагі __ускоснасці__:

|параметр|binary                                    |hex        |
|:------:|:-----------------------------------------|:----------|
|першы   |0000_0000__0000_0000__0000_0001__0000_0000|0x0000_0100|
|другі   |0000_0000__0000_0000__0000_0010__0000_0000|0x0000_0200|
|трэці   |0000_0000__0000_0000__0000_0100__0000_0000|0x0000_0400|
|чацвёрты|0000_0000__0000_0000__0000_1000__0000_0000|0x0000_0800|

флагі __непасрэднасці__:

|параметр|binary                                    |hex        |
|:------:|:-----------------------------------------|:----------|
|першы   |0000_0000__0000_0000__0001_0000__0000_0000|0x0000_1000|
|другі   |0000_0000__0000_0000__0010_0000__0000_0000|0x0000_2000|
|трэці   |0000_0000__0000_0000__0100_0000__0000_0000|0x0000_4000|
|чацвёрты|0000_0000__0000_0000__1000_0000__0000_0000|0x0000_8000|

_______________
